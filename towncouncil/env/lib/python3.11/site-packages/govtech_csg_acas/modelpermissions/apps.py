from django.apps import AppConfig

from .patch import do_patch


class ModelPermissionsConfig(AppConfig):
    '''rbac app configuration'''

    default_auto_field = 'django.db.models.BigAutoField'
    name = 'govtech_csg_acas.modelpermissions'

    def ready(self):
        '''Initialization function of `modelpermissions` app, it will patch
            critical functions'''

        do_patch()
        # import the signal handlers will enable them
        from . import handlers # pylint: disable=import-outside-toplevel,unused-import
